<!-- Attendance System Page -->
<section id="attendance" class="page-section py-5">
    <div class="container">
        <button class="btn btn-outline-primary mb-4" data-page="home" aria-label="Return to homepage">
            <i class="fas fa-arrow-left me-2"></i>Back to Home
        </button>
        <h2 class="section-title text-center">ACM Attendance System</h2>
        
        <!-- Alerts -->
        <div id="attendanceAlert" class="alert alert-attendance" style="display: none;"></div>
        
        <!-- Scanner Status -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="scanner-status text-center">
                    <span class="badge bg-secondary" id="scannerStatus">Scanner stopped</span>
                </div>
            </div>
        </div>

        <!-- QR Scanner Section -->
        <div class="card attendance-card">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="fas fa-qrcode me-2"></i>QR Code Check-in</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="qr-scanner-container">
                            <h5>Scan Your Member QR Code</h5>
                            
                            <!-- Scanner Container -->
                            <div id="scannerSection">
                                <!-- Camera Placeholder - visible by default -->
                                <div class="camera-placeholder" id="cameraPlaceholder">
                                    <i class="fas fa-camera fa-3x mb-3"></i>
                                    <p>Scanner ready</p>
                                    <small class="text-muted mt-2">Click to activate scanner</small>
                                </div>
                                
                                <!-- Scanner Container - hidden by default -->
                                <div id="scannerContainer" style="display: none;"></div>
                                
                                <!-- Scanner Controls -->
                                <div class="scanner-controls mt-3">
                                    <button class="btn btn-primary w-100" id="startScannerBtn">
                                        <i class="fas fa-camera me-2"></i>Activate Scanner
                                    </button>
                                    <button class="btn btn-secondary w-100" id="stopScannerBtn" style="display: none;">
                                        <i class="fas fa-stop me-2"></i>Stop Scanner
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Manual Entry -->
                            <button class="btn btn-outline-primary mt-3 w-100" id="manualEntryBtn" aria-label="Enter information manually">
                                <i class="fas fa-keyboard me-2"></i>Manual Entry
                            </button>
                            
                            <!-- Quick Demo -->
                            <div class="mt-3 p-3 bg-light rounded">
                                <h6>Demo Mode</h6>
                                <p class="small mb-2">Test the system with local data</p>
                                <button class="btn btn-outline-info btn-sm w-100" id="demoScannerBtn" aria-label="Test with member ACM001">
                                    Use ACM001 (Linus Torvalds)
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="p-4">
                            <h5>How to Check-in</h5>
                            <ol class="list-group list-group-numbered mb-4">
                                <li class="list-group-item">Get your personal QR code</li>
                                <li class="list-group-item">Activate the camera scanner</li>
                                <li class="list-group-item">Scan your QR code</li>
                                <li class="list-group-item">Fill in your visit details</li>
                                <li class="list-group-item">Confirm your check-in</li>
                            </ol>
                            
                            <!-- Check-in Interface -->
                            <div id="checkinInterfaceContainer">
                                <!-- Check-in interface will be injected here dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Active Sessions -->
        <div class="card attendance-card mt-4">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0"><i class="fas fa-history me-2"></i>Recent Check-ins</h4>
            </div>
            <div class="card-body">
                <div id="recentCheckinsContainer">
                    <p class="text-muted text-center">No recent check-ins</p>
                </div>
            </div>
        </div>
    </div>
</section>